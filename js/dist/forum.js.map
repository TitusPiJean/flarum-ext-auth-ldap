{"version":3,"sources":["webpack://@tituspijean/auth-ldap/webpack/bootstrap","webpack://@tituspijean/auth-ldap/./forum.js","webpack://@tituspijean/auth-ldap/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@tituspijean/auth-ldap/./src/forum/components/LDAPLogInModal.js","webpack://@tituspijean/auth-ldap/./src/forum/index.js","webpack://@tituspijean/auth-ldap/external \"flarum.core.compat['app']\"","webpack://@tituspijean/auth-ldap/external \"flarum.core.compat['components/Button']\"","webpack://@tituspijean/auth-ldap/external \"flarum.core.compat['components/HeaderSecondary']\"","webpack://@tituspijean/auth-ldap/external \"flarum.core.compat['components/LogInButtons']\"","webpack://@tituspijean/auth-ldap/external \"flarum.core.compat['components/LogInModal']\"","webpack://@tituspijean/auth-ldap/external \"flarum.core.compat['components/Modal']\"","webpack://@tituspijean/auth-ldap/external \"flarum.core.compat['components/SettingsPage']\"","webpack://@tituspijean/auth-ldap/external \"flarum.core.compat['components/SignUpModal']\"","webpack://@tituspijean/auth-ldap/external \"flarum.core.compat['extend']\"","webpack://@tituspijean/auth-ldap/external \"flarum.core.compat['utils/ItemList']\"","webpack://@tituspijean/auth-ldap/external \"flarum.core.compat['utils/extractText']\""],"names":["translationPrefix","LDAPLogInModal","init","identification","m","prop","props","password","remember","className","title","app","translator","trans","forum","attribute","content","body","footer","fields","toArray","items","ItemList","add","extractText","loading","Button","component","type","children","onready","$","select","ldaplogin","data","options","request","Object","assign","method","url","onsubmit","e","preventDefault","prototype","errorHandler","onerror","bind","then","window","location","reload","loaded","error","status","alert","Modal","initializers","extend","HeaderSecondary","addLoginLink","removeIfOnlyUse","LogInModal","overrideModal","SettingsPage","removeProfileActions","checkRemoveAccountSection","has","onclick","modal","show","remove","get","length"],"mappings":"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","file":"forum.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./forum.js\");\n","/*\n * This file is part of Flarum.\n *\n * (c) Toby Zerner <toby.zerner@gmail.com>\n *\n * For the full copyright and license information, please view the LICENSE\n * file that was distributed with this source code.\n */\n\nexport * from './src/forum';\n","export default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}","import { extend } from 'flarum/extend';\nimport app from 'flarum/app';\n\nimport Modal from 'flarum/components/Modal';\nimport SignUpModal from 'flarum/components/SignUpModal';\nimport Button from 'flarum/components/Button';\nimport LogInButtons from 'flarum/components/LogInButtons';\nimport extractText from 'flarum/utils/extractText';\nimport ItemList from 'flarum/utils/ItemList';\n\nconst translationPrefix = 'tituspijean-auth-ldap.forum.';\n\nexport default class LDAPLogInModal extends Modal {\n  init() {\n    super.init();\n\n    /**\n     * The value of the identification input.\n     *\n     * @type {Function}\n     */\n    this.identification = m.prop(this.props.identification || '');\n\n    /**\n     * The value of the password input.\n     *\n     * @type {Function}\n     */\n    this.password = m.prop(this.props.password || '');\n\n    /**\n     * The value of the remember me input.\n     *\n     * @type {Function}\n     */\n    this.remember = m.prop(!!this.props.remember);\n  }\n\n  className() {\n    return 'LogInModal Modal--small';\n  }\n\n  title() {\n    return app.translator.trans(translationPrefix + 'log_in_with') + ' ' + app.forum.attribute('LDAP_method_name');\n  }\n\n  content() {\n    return [\n      <div className=\"Modal-body\">\n        {this.body()}\n      </div>,\n      <div className=\"Modal-footer\">\n        {this.footer()}\n      </div>\n    ];\n  }\n\n  body() {\n    return [\n      //<LogInButtons/>,\n\n      <div className=\"Form Form--centered\">\n        {this.fields().toArray()}\n      </div>\n    ];\n  }\n\n  fields() {\n    const items = new ItemList();\n\n    items.add('identification', <div className=\"Form-group\">\n      <input className=\"FormControl\" name=\"identification\" type=\"text\" placeholder={extractText(app.translator.trans('core.forum.log_in.username_or_email_placeholder'))}\n        bidi={this.identification}\n        disabled={this.loading} />\n    </div>, 30);\n\n    items.add('password', <div className=\"Form-group\">\n      <input className=\"FormControl\" name=\"password\" type=\"password\" placeholder={extractText(app.translator.trans('core.forum.log_in.password_placeholder'))}\n        bidi={this.password}\n        disabled={this.loading} />\n    </div>, 20);\n\n    /*items.add('remember', <div className=\"Form-group\">\n      <div>\n        <label className=\"checkbox\">\n          <input type=\"checkbox\" bidi={this.remember} disabled={this.loading} />\n          {app.translator.trans('core.forum.log_in.remember_me_label')}\n        </label>\n      </div>\n    </div>, 10);*/\n\n    items.add('submit', <div className=\"Form-group\">\n      {Button.component({\n        className: 'Button Button--primary Button--block',\n        type: 'submit',\n        loading: this.loading,\n        children: app.translator.trans('core.forum.log_in.submit_button')\n      })}\n    </div>, -10);\n\n    return items;\n  }\n\n  footer() {\n    return [\n      /*<p className=\"LogInModal-forgotPassword\">\n        <a onclick={this.forgotPassword.bind(this)}>{app.translator.trans('core.forum.log_in.forgot_password_link')}</a>\n      </p>,\n\n      app.forum.attribute('allowSignUp') ? (\n        <p className=\"LogInModal-signUp\">\n          {app.translator.trans('core.forum.log_in.sign_up_text', {a: <a onclick={this.signUp.bind(this)}/>})}\n        </p>\n      ) : ''*/\n    ];\n  }\n\n  onready() {\n    this.$('[name=' + (this.identification() ? 'password' : 'identification') + ']').select();\n  }\n\n  ldaplogin(data, options = {}) {\n    return app.request(Object.assign({\n      method: 'POST',\n      url: app.forum.attribute('baseUrl') + '/auth/ldap',\n      data\n    }, options));\n  }\n\n  onsubmit(e) {\n    e.preventDefault();\n\n    this.loading = true;\n\n    const identification = this.identification();\n    const password = this.password();\n    const remember = this.remember();\n\n    LDAPLogInModal.prototype.ldaplogin({identification, password, remember}, {errorHandler: this.onerror.bind(this)})\n      .then(\n        () => window.location.reload(),\n        this.loaded.bind(this)\n      );\n  }\n\n  onerror(error) {\n    if (error.status === 401) {\n      error.alert.props.children = app.translator.trans('core.forum.log_in.invalid_login_message');\n    }\n\n    super.onerror(error);\n  }\n}\n","import { extend, override } from 'flarum/extend';\nimport app from 'flarum/app';\n\nimport HeaderSecondary from \"flarum/components/HeaderSecondary\";\nimport SettingsPage from \"flarum/components/SettingsPage\";\nimport Button from 'flarum/components/Button';\n\nimport LogInModal from \"flarum/components/LogInModal\";\nimport LDAPLogInModal from \"./components/LDAPLogInModal\";\n\nconst translationPrefix = 'tituspijean-auth-ldap.forum.';\n\napp.initializers.add('tituspijean-auth-ldap', function() {\n\n\textend(HeaderSecondary.prototype, 'items', addLoginLink);\n\textend(HeaderSecondary.prototype, 'items', removeIfOnlyUse);\n\textend(LogInModal.prototype, 'content', overrideModal);\n\n\textend(SettingsPage.prototype, 'accountItems', removeProfileActions);\n\textend(SettingsPage.prototype, 'settingsItems', checkRemoveAccountSection);\n\n\tfunction overrideModal() {\n\t\tif (app.forum.attribute('onlyUseLDAP')) {\n\t\t\tLogInModal.prototype.content = LDAPLogInModal.prototype.content\n\t\t\tLogInModal.prototype.title = LDAPLogInModal.prototype.title\n\t\t\tLogInModal.prototype.body = LDAPLogInModal.prototype.body\n\t\t\tLogInModal.prototype.fields = LDAPLogInModal.prototype.fields\n\t\t\tLogInModal.prototype.footer = LDAPLogInModal.prototype.footer\n\t\t\tLogInModal.prototype.onsubmit = LDAPLogInModal.prototype.onsubmit\n\t\t}\n\t}\n\n\tfunction addLoginLink(items) {\n\t\tif (items.has('logIn')) {\n\t\t\titems.add('logInLDAP',\n\t\t\t\tButton.component({\n\t\t\t\t\tchildren: app.translator.trans(translationPrefix + 'log_in_with') + ' ' + app.forum.attribute('LDAP_method_name'),\n\t\t\t\t\tclassName: 'Button Button--link',\n\t\t\t\t\tonclick: () => app.modal.show(new LDAPLogInModal())\n\t\t\t\t}), 0\n\t\t\t);\n\t\t}\n\t}\n\n\tfunction removeIfOnlyUse(items) {\n\t\tif (app.forum.attribute('onlyUseLDAP')) {\n\t\t\tif (items.has('signUp')) {\n\t\t\t\titems.remove('signUp');\n\t\t\t}\n\t\t\tif (items.has('logIn')) {\n\t\t\t\titems.remove('logIn');\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction removeProfileActions(items) {\n\t\titems.remove('changeEmail');\n\t\titems.remove('changePassword');\n\t}\n\n\tfunction checkRemoveAccountSection(items) {\n\t\tif (items.has('account') &&\n\t\t\titems.get('account').props.children.length === 0) {\n\t\t\titems.remove('account');\n\t\t}\n\t}\n});\n","module.exports = flarum.core.compat['app'];","module.exports = flarum.core.compat['components/Button'];","module.exports = flarum.core.compat['components/HeaderSecondary'];","module.exports = flarum.core.compat['components/LogInButtons'];","module.exports = flarum.core.compat['components/LogInModal'];","module.exports = flarum.core.compat['components/Modal'];","module.exports = flarum.core.compat['components/SettingsPage'];","module.exports = flarum.core.compat['components/SignUpModal'];","module.exports = flarum.core.compat['extend'];","module.exports = flarum.core.compat['utils/ItemList'];","module.exports = flarum.core.compat['utils/extractText'];"],"sourceRoot":""}